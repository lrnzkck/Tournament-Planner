<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<div
	th:replace="fragments/general.html :: headerdata(title='Userbereich')"></div>
<body>
	<div class="container">
		<div th:replace="fragments/general.html :: header"></div>
		<div class="container">
			<h2>
				Willkommen in deinem Bereich <span sec:authentication="name"></span>!
			</h2>
			<h2>
				Deine Rollen: <span sec:authentication="principal.authorities"></span>
			</h2>
		</div>
		<div class="container">
			<form th:action="@{/home}" method="GET">
				<div class="input-group">
					<select class="custom-select" name="type">
						<option selected disabled="disabled">Bitte Typ
							auswählen...</option>
						<option th:each="gametype : ${gametypes}" th:text="${gametype}"
							th:value="${gametype}"></option>
					</select>
					<div class="input-group-append">
						<button type="submit" class="btn btn-primary float-right">Auswählen</button>
					</div>
				</div>
			</form>
		</div>
		<div th:if="${type != null}" class="container">
			<form th:action="@{/game}" method="POST" th:object="${gameForm}">
				<div class="form-row">
					<div class="col">
						<label>Spielname:</label>
					</div>
					<div class="col">
						<input type="text" class="form-control" id="name" name="name">
					</div>
				</div>
				<div class="form-row">
					<div class="col">
						<label>Spieltyp:</label>
					</div>
					<div class="col">
						<input type="text" class="form-control" id="type" name="type"
							th:value="${type}" th:field="*{type}">
					</div>
				</div>
				<div class="form-row">
					<div class="col">
						<label>Startzeit:</label>
					</div>
					<div class="col">
						<input type="text" class="form-control" id="startDate"
							name="startDate" placeholder="TT.MM.JJJJ HH:MM">
					</div>
				</div>
				<div class="form-row">
					<div class="col">
						<label>Spielstatus:</label>
					</div>
					<div class="col">
						<input disabled type="text" class="form-control" id="status"
							name="status" value="*{status}" th:field="*{status}">
					</div>
				</div>
				<div class="form-row">
					<div class="col">
						<label>Ersteller:</label>
					</div>
					<div class="col">
						<input type="text" class="form-control" id="creator"
							name="creator" th:value="${session.username}">
					</div>
				</div>
				<!--
				<div class="form-row">
					<div class="col">
						<label>Heimteam:</label>
					</div>
					<div class="col">
						<input type="text" class="form-control" id="teams" name="teams" th:field="*{teams}">
					</div>
				</div>
				<div class="form-row">
					<div class="col">
						<label>Gastteam:</label>
					</div>
					<div class="col">
						<input type="text" class="form-control" id="teams" name="teams" th:field="*{teams}">
					</div>
				</div>-->
				<div th:replace="fragments/fragm_createGame :: newGame"></div>
				<div class="form-row">
					<div class="col">
						<button type="submit" class="btn btn-primary"
							value="Spiel erstellen">Spiel erstellen</button>
					</div>
				</div>
			</form>
		</div>

		<!-- Player erstellen -->

		<div class="container">
			<form th:action="@{/player}" method="POST" th:object="${playerForm}">
				<select class="custom-select" name="teamname">
					<option th:each="team : @{teams}" th:text="${team}"
						th:value="${team}"></option>
				</select> <label>Spielername eingeben:</label><input type="text"
					class="form-control" id="name" name="name"
					placeholder="Spielername">

				<button type="submit" class="btn btn-primary float-right">Erstellen</button>
			</form>
		</div>
		<div th:replace="fragments/general.html :: footer"></div>
		<div th:replace="fragments/general.html :: bootstrapcomponents"></div>

	</div>
</body>
</html>